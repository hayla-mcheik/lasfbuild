import{_ as W}from"./BuRjv72G.js";import{_ as $,r as v,k as D,l as A,c as o,b as C,a as t,v as S,x as B,A as x,F as m,q as _,m as h,s as b,d as r,g as O,t as l,I as E,o as n,n as F,w as q}from"./BzNwqdF_.js";import{B as G}from"./D_BpVgSy.js";import"./BkXtjkM_.js";const H={class:"locations-page"},j={class:"controls-section py-5 mt-5"},z={class:"container"},J={class:"row g-3"},X={class:"col-md-6"},Z={class:"input-group"},K={class:"col-md-3"},Y=["value"],tt={class:"col-md-3"},st=["value"],et={class:"container py-5"},it={class:"view-toggle mb-4"},at={class:"btn-group",role:"group"},ot={key:0,class:"map-view mb-5"},nt={key:1,class:"grid-view"},lt={class:"row"},rt={class:"enhanced-location-card"},dt={class:"card-inner"},ct={class:"header-content"},ut={class:"location-name"},vt={class:"location-region"},mt={class:"card-body"},bt={class:"sports-tags"},gt={class:"status-details"},pt={class:"status-message"},ft={class:"update-time"},wt={key:0,class:"active-pilots-widget"},_t={class:"widget-header"},ht={class:"pilot-count"},kt={class:"pilots-visual"},yt={class:"quick-info-grid"},Ct={class:"info-item"},St={class:"info-value"},Dt={class:"info-item"},xt={class:"info-value"},qt={class:"info-item"},Mt={class:"info-value"},Lt={class:"qr-quick-access"},Pt={class:"qr-info"},Tt={class:"qr-text"},It={class:"qr-code"},Rt={class:"qr-actions"},Ut={class:"card-footer"},Nt={class:"footer-actions"},Qt=["onClick","disabled","title"],Vt={key:2,class:"text-center py-5"},Wt={key:3,class:"results-count mt-4"},$t={class:"alert alert-light border"},At={__name:"index",setup(Bt){const M=E(),k=v([{id:1,name:"Jounieh Bay",region:"Mount Lebanon",sports:["Paragliding","Hang Gliding"],status:"cleared",statusDetails:"Clearance granted until 18:00. Wind conditions favorable.",lastUpdated:new Date().toISOString(),activePilots:3,qrCode:"QR-001",altitude:"850m",bestWind:"NW 10-15kt",bestTime:"Morning"},{id:2,name:"Faqra Club",region:"Mount Lebanon",sports:["Paragliding"],status:"restricted",statusDetails:"Morning flights only. Afternoon restricted due to events.",lastUpdated:new Date(Date.now()-7200*1e3).toISOString(),activePilots:0,qrCode:"QR-002",altitude:"1,200m",bestWind:"W 5-10kt",bestTime:"Early Morning"},{id:3,name:"Chekka Coast",region:"North Lebanon",sports:["Paragliding","Paramotoring"],status:"cleared",statusDetails:"All day clearance. Monitor wind conditions.",lastUpdated:new Date(Date.now()-3600*1e3).toISOString(),activePilots:2,qrCode:"QR-003",altitude:"150m",bestWind:"SE 8-12kt",bestTime:"All Day"},{id:4,name:"Rafic Hariri Zone",region:"Beirut",sports:["Paramotoring"],status:"closed",statusDetails:"Temporary closure due to air traffic.",lastUpdated:new Date(Date.now()-1800*1e3).toISOString(),activePilots:0,qrCode:"QR-004",altitude:"Sea Level",bestWind:"NE 10-15kt",bestTime:"Evening"},{id:5,name:"North Mountains",region:"North Lebanon",sports:["Paragliding"],status:"cleared",statusDetails:"Clearance for experienced pilots only.",lastUpdated:new Date(Date.now()-14400*1e3).toISOString(),activePilots:1,qrCode:"QR-005",altitude:"1,500m",bestWind:"N 12-18kt",bestTime:"Afternoon"},{id:6,name:"South Coast",region:"South Lebanon",sports:["Paragliding","Hang Gliding"],status:"restricted",statusDetails:"Limited to specific hours. Check schedule.",lastUpdated:new Date(Date.now()-10800*1e3).toISOString(),activePilots:0,qrCode:"QR-006",altitude:"200m",bestWind:"SW 8-15kt",bestTime:"Late Morning"},{id:7,name:"Bekaa Valley",region:"Bekaa",sports:["Paramotoring"],status:"cleared",statusDetails:"Ideal conditions. No restrictions.",lastUpdated:new Date(Date.now()-300*60*1e3).toISOString(),activePilots:0,qrCode:"QR-007",altitude:"950m",bestWind:"E 5-10kt",bestTime:"Morning/Evening"},{id:8,name:"Batroun Coast",region:"North Lebanon",sports:["Paragliding"],status:"cleared",statusDetails:"Clearance until sunset.",lastUpdated:new Date(Date.now()-360*60*1e3).toISOString(),activePilots:1,qrCode:"QR-008",altitude:"100m",bestWind:"NW 10-20kt",bestTime:"Afternoon"}]),d=v(""),g=v(""),p=v(""),c=v("grid"),f=v([]),L=D(()=>{const i=k.value.map(s=>s.region);return[...new Set(i)].sort()}),P=D(()=>{const i=k.value.flatMap(s=>s.sports);return[...new Set(i)].sort()}),w=()=>{f.value=k.value.filter(i=>{const s=d.value===""||i.name.toLowerCase().includes(d.value.toLowerCase())||i.region.toLowerCase().includes(d.value.toLowerCase()),u=g.value===""||i.region===g.value,e=p.value===""||i.sports.includes(p.value);return s&&u&&e})},T=()=>{d.value="",g.value="",p.value="",w()},I=i=>({Paragliding:"bi-parachute","Hang Gliding":"bi-airplane",Paramotoring:"bi-fan",Skydiving:"bi-cloud-arrow-down"})[i]||"bi-activity",R=i=>{switch(i){case"cleared":return"bi-check-circle-fill";case"restricted":return"bi-exclamation-triangle-fill";case"closed":return"bi-x-circle-fill";default:return"bi-question-circle-fill"}},U=(i,s)=>i?i.length<=s?i:i.substring(0,s)+"...":"",N=i=>{const s=new Date(i),e=new Date().getTime()-s.getTime(),a=Math.floor(e/6e4);return a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:s.toLocaleDateString()},Q=i=>{const s=new Date(i),e=new Date().getTime()-s.getTime(),a=Math.floor(e/6e4);return a<60?`${a}m`:a<1440?`${Math.floor(a/60)}h`:s.toLocaleDateString("en-US",{month:"short",day:"numeric"})},V=i=>{if(!y(i)){alert(`Cannot check in. Location is ${i.status.toUpperCase()}.`);return}M.push(`/location/${i.id}?source=qr`)},y=i=>i.status==="cleared";return A(()=>{w()}),(i,s)=>{const u=W;return n(),o(m,null,[C(G),t("div",H,[t("div",j,[t("div",z,[t("div",J,[t("div",X,[t("div",Z,[s[5]||(s[5]=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-search"})],-1)),S(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),type:"text",class:"form-control",placeholder:"Search locations...",onInput:w},null,544),[[B,d.value]])])]),t("div",K,[S(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>g.value=e),class:"form-select",onChange:w},[s[6]||(s[6]=t("option",{value:""},"All Regions",-1)),(n(!0),o(m,null,_(L.value,e=>(n(),o("option",{key:e,value:e},l(e),9,Y))),128))],544),[[x,g.value]])]),t("div",tt,[S(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>p.value=e),class:"form-select",onChange:w},[s[7]||(s[7]=t("option",{value:""},"All Sports",-1)),(n(!0),o(m,null,_(P.value,e=>(n(),o("option",{key:e,value:e},l(e),9,st))),128))],544),[[x,p.value]])])])])]),t("div",et,[t("div",it,[t("div",at,[t("button",{type:"button",class:b(["btn btn-outline-primary",{active:c.value==="grid"}]),onClick:s[3]||(s[3]=e=>c.value="grid")},[...s[8]||(s[8]=[t("i",{class:"bi bi-grid-3x3-gap me-2"},null,-1),r(" Grid View ",-1)])],2),t("button",{type:"button",class:b(["btn btn-outline-primary",{active:c.value==="map"}]),onClick:s[4]||(s[4]=e=>c.value="map")},[...s[9]||(s[9]=[t("i",{class:"bi bi-map me-2"},null,-1),r(" Map View ",-1)])],2)])]),c.value==="map"?(n(),o("div",ot,[...s[10]||(s[10]=[O('<div class="card shadow" data-v-72e3ba48><div class="card-body" data-v-72e3ba48><h5 class="card-title mb-3" data-v-72e3ba48><i class="bi bi-map me-2" data-v-72e3ba48></i>Interactive Map </h5><div class="map-container bg-light rounded d-flex align-items-center justify-content-center" style="height:500px;" data-v-72e3ba48><div class="text-center" data-v-72e3ba48><i class="bi bi-map fs-1 text-muted mb-3" data-v-72e3ba48></i><p class="mb-2" data-v-72e3ba48>Interactive map with real-time location status</p><small class="text-muted" data-v-72e3ba48>(Map integration coming soon)</small></div></div></div></div>',1)])])):h("",!0),c.value==="grid"?(n(),o("div",nt,[t("div",lt,[(n(!0),o(m,null,_(f.value,e=>(n(),o("div",{key:e.id,class:"col-xl-4 col-lg-6 mb-4"},[t("div",rt,[t("div",dt,[t("div",{class:b(["card-header","status-"+e.status])},[s[12]||(s[12]=t("div",{class:"status-indicator"},[t("div",{class:"status-dot"}),t("div",{class:"status-glow"})],-1)),t("div",ct,[t("h5",ut,l(e.name),1),t("div",vt,[s[11]||(s[11]=t("i",{class:"bi bi-geo-alt"},null,-1)),r(" "+l(e.region),1)])])],2),t("div",mt,[t("div",bt,[(n(!0),o(m,null,_(e.sports,a=>(n(),o("span",{key:a,class:"sport-tag"},[t("i",{class:b(["bi",I(a)])},null,2),r(" "+l(a),1)]))),128))]),t("div",gt,[t("div",pt,[t("i",{class:b(["bi",R(e.status)])},null,2),r(" "+l(U(e.statusDetails,80)),1)]),t("div",ft,[s[13]||(s[13]=t("i",{class:"bi bi-clock"},null,-1)),r(" Updated "+l(N(e.lastUpdated)),1)])]),e.activePilots>0?(n(),o("div",wt,[t("div",_t,[s[14]||(s[14]=t("i",{class:"bi bi-people"},null,-1)),s[15]||(s[15]=t("span",null,"Active Pilots",-1)),t("span",ht,l(e.activePilots),1)]),t("div",kt,[(n(!0),o(m,null,_(Math.min(e.activePilots,5),a=>(n(),o("div",{key:a,class:"pilot-avatar",style:F({background:`hsl(${a*60}, 70%, 60%)`,transform:`translateX(${(a-1)*-8}px)`})},[...s[16]||(s[16]=[t("i",{class:"bi bi-person"},null,-1)])],4))),128))]),s[17]||(s[17]=t("div",{class:"widget-status"},[t("i",{class:"bi bi-circle-fill",style:{color:"#198754","font-size":"0.8rem"}}),r(" Airspace Active ")],-1))])):h("",!0),t("div",yt,[t("div",Ct,[s[18]||(s[18]=t("div",{class:"info-label"},[t("i",{class:"bi bi-qr-code"}),r(" QR Code ")],-1)),t("div",St,l(e.qrCode),1)]),t("div",Dt,[s[19]||(s[19]=t("div",{class:"info-label"},[t("i",{class:"bi bi-arrow-up-circle"}),r(" Status ")],-1)),t("div",xt,l(e.status.toUpperCase()),1)]),t("div",qt,[s[20]||(s[20]=t("div",{class:"info-label"},[t("i",{class:"bi bi-clock-history"}),r(" Last Update ")],-1)),t("div",Mt,l(Q(e.lastUpdated)),1)])]),t("div",Lt,[t("div",Pt,[s[23]||(s[23]=t("div",{class:"qr-icon-container"},[t("i",{class:"bi bi-qr-code"})],-1)),t("div",Tt,[s[21]||(s[21]=t("div",{class:"qr-label"},"Location QR Code",-1)),t("div",It,l(e.qrCode),1),s[22]||(s[22]=t("small",{class:"text-muted"},"Scan at takeoff site",-1))])]),t("div",Rt,[C(u,{to:`/location/${e.id}`,class:"btn-qr-action",title:"View Location & QR Code"},{default:q(()=>[...s[24]||(s[24]=[t("i",{class:"bi bi-eye"},null,-1)])]),_:1},8,["to"])])])]),t("div",Ut,[t("div",Nt,[C(u,{to:"/location/"+e.id,class:"btn-view-details"},{default:q(()=>[...s[25]||(s[25]=[t("span",null,"View Details",-1),t("i",{class:"bi bi-arrow-right"},null,-1)])]),_:1},8,["to"]),t("button",{class:b(["btn-checkin",{disabled:!y(e)}]),onClick:a=>V(e),disabled:!y(e),title:y(e)?"Check into airspace":"Location not cleared for flying"},[...s[26]||(s[26]=[t("i",{class:"bi bi-box-arrow-in-right"},null,-1),r(" Quick Check-in ",-1)])],10,Qt)])])])])]))),128))])])):h("",!0),f.value.length===0?(n(),o("div",Vt,[s[27]||(s[27]=t("i",{class:"bi bi-emoji-frown fs-1 text-muted mb-3"},null,-1)),s[28]||(s[28]=t("h4",null,"No locations found",-1)),s[29]||(s[29]=t("p",{class:"text-muted"},"Try adjusting your search or filters",-1)),t("button",{class:"btn btn-outline-primary",onClick:T}," Reset Filters ")])):h("",!0),f.value.length>0?(n(),o("div",Wt,[t("div",$t,[s[30]||(s[30]=t("i",{class:"bi bi-info-circle me-2"},null,-1)),r(" Showing "+l(f.value.length)+" of "+l(k.value.length)+" locations ",1)])])):h("",!0)])])],64)}}},Ht=$(At,[["__scopeId","data-v-72e3ba48"]]);export{Ht as default};
